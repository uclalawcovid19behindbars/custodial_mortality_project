---
title: "DE_source_guide"
output: html_document
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Load Environment

```{r}
# Load relevent packages and functions
library(tidyverse)
source('Code/general_utilities.R') # Note you may have to change your Rmarkdown option for evaluate chunks to project instead of document
options(scipen=10)
```

## Decedent Data

UCLA obtains custodial decedent data for Delaware state prisons from public records requests to the Delaware Department of Corrections. Due to state residency requirements, UCLA cooperated with the ACLU of Delaware to obtain these records.

Example files included in corresponding documents folder.

Some processing of the files takes place, including the selection of corresponding variables and linking data to UCLA datasets. 

```{r}
# Load DE decedent data
de.deaths <- read_ucla_deaths(agencies = 'DE')

# Show variables present in DE decedent data
colnames(de.deaths)

# UCLA.ID is not present - please wait for data update to join UCLA facility data

# Compare UCLA data with BJS data
compare_ucla_bjs(source = 'MCI') %>%
    subset(State == 'Delaware') %>%
    arrange(desc(Year))

# Plot DE decedent data 
ggplot() +
    geom_line(data = de.deaths %>% group_by(Year) %>% summarise(Total.Deaths = n()),aes(x = Year, y = Total.Deaths))

```


## Demographic Data

UCLA currently does not have demographic data processed for Delaware state prisons. Please wait for the next update to this data. 